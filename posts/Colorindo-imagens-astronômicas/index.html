<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.1" /><meta property="og:title" content="Colorindo Imagens Astronômicas em Python" /><meta name="author" content="Pedro Hiroshi Ely Ito" /><meta property="og:locale" content="en" /><meta name="description" content="Colorindo Imagens Astronômicas em Python" /><meta property="og:description" content="Colorindo Imagens Astronômicas em Python" /><link rel="canonical" href="https://hirobuda.github.io/posts/Colorindo-imagens-astron%C3%B4micas/" /><meta property="og:url" content="https://hirobuda.github.io/posts/Colorindo-imagens-astron%C3%B4micas/" /><meta property="og:site_name" content="Hiroshi Ito" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-01-01T00:00:00+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Colorindo Imagens Astronômicas em Python" /><meta name="twitter:site" content="@HiroshiEly" /><meta name="twitter:creator" content="@Pedro Hiroshi Ely Ito" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Pedro Hiroshi Ely Ito"},"dateModified":"2023-01-01T03:50:07+00:00","datePublished":"2023-01-01T00:00:00+00:00","description":"Colorindo Imagens Astronômicas em Python","headline":"Colorindo Imagens Astronômicas em Python","mainEntityOfPage":{"@type":"WebPage","@id":"https://hirobuda.github.io/posts/Colorindo-imagens-astron%C3%B4micas/"},"url":"https://hirobuda.github.io/posts/Colorindo-imagens-astron%C3%B4micas/"}</script><title>Colorindo Imagens Astronômicas em Python | Hiroshi Ito</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Hiroshi Ito"><meta name="application-name" content="Hiroshi Ito"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/favicons/logo.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">Hiroshi Ito</a></div><div class="site-subtitle font-italic">A nice blog</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/hirobuda" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/HiroshiEly" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['phiroshi.ito','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Colorindo Imagens Astronômicas em Python</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Colorindo Imagens Astronômicas em Python</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1672531200" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jan 1, 2023 </em> </span> <span> Updated <em class="" data-ts="1672545007" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jan 1, 2023 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href=""></a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1605 words"> <em>8 min</em> read</span></div></div></div><div class="post-content"><h1 id="colorindo-imagens-astronômicas-em-python">Colorindo Imagens Astronômicas em Python</h1><p>Durante a <a href="https://sifsc.ifsc.usp.br/">SIFSC12</a> foi realizado um minicurso do <a href="https://instagram.com/caifsc">CAIFSC</a> baseado em um material que eu havia preparado para uma reunião do clube. Durante o curso eu prometi fazer uma postagem no blog detalhando esse material. E então cá estamos!</p><p>A proposta do curso é usar técnicas básicas de processamento de imagens para dar cor à imagens do James Webb Space Telescope(JWST). Para isso, vamos voltar um pouco e definir o que é uma imagem digital.</p><h2 id="imagens-digitais"><span class="mr-2">Imagens digitais</span><a href="#imagens-digitais" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Imagens são um tipo de informação bastante comum na experiência humana. Por isso, é interessante reproduzir, mesmo que de forma simplificada, essa informação. Pinturas, fotos e, nas últimas décadas, imagens digitais são uma expressão desse interesse.</p><p>Imagens digitais são, de forma simplificada, representações de imagens que podem ser exibidas em um monitor e, consequentemente, que podem ser armazenadas em um computador(acho que nem preciso dizer que são praticamente todas que você vê todos os dias). Existe mais de uma forma de se armazenar uma imagem num computador, mas hoje vamos usar apenas uma: matrizes.</p><p>Imagine que você queria explicar ao seu computador o que é uma imagem. Lembre-se, o seu computador só entende números e possui memória limitada(ele só consegue guardar uma quantidade finita de números). Uma possibilidade seria dividir essa imagem em pequenos quadradinhos e atribuir números a esses quadradinhos. Esses quadradinhos seriam então elementos da imagem(em inglês <em>picture element</em>, ou <em>pixel</em>) e o número atribuido seria a intensidade desse pixel. A partir daí, basta guardar esses números em uma matriz nas posições corretas e agora temos uma forma de mostrar essa imagem ao seu computador!</p><h3 id="escala-de-cinza-e-rgb"><span class="mr-2">Escala de cinza e RGB</span><a href="#escala-de-cinza-e-rgb" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Você talvez esteja se perguntando onde a cor entra nessa história(ou não). Bom, quando eu disse que cada posição da matriz recebe um valor de intensidade, na verdade eu estava falando de um tipo específico de imagem: imagens em escala de cinza(<em>grayscale</em>). Esse tipo de imagem de fato só representa variações de intensidade(claro ou escuro) e são representadas, geralmente, em preto e branco. Cada pixel então é um valor num intervalo $[0,I_{max}]$, quando esse valor é $0$ o pixel é preto e quando o valor é $I_{max}$ o pixel é branco. Na vida real, podemos ter qualquer valor de intensidade nesse intevalo, mas, como eu já disse, o computador tem memória finita, então temos que dividir esse intevalo de forma discreta. Quanto mais dividirmos esse intervalo, melhor podemos representar variações sutis de intensidade. Você já deve ter ouvido falar em cores <em>8-bits</em> e <em>16-bits</em>, pois bem, em <em>8-bits</em> podemos ter $2^{8} = 256$ níveis de intensidade e em <em>16-bits</em> podemos ter $2^{16} = 65536$. Sistemas modernos usam <em>24-bits</em> ou mais, faça as contas!</p><p>Mas e as malditas cores? Bom, para isso, armazenamos em cada entrada da matriz mais de um número, cada um representando intensidades em escalas de cor diferentes(você pode imaginar que está misturando tinta e a intensidade representa a quantidade de tinta que vocês está misturando). Existem vários sistemas de cor, como o <em>CMYK</em>, utilizado em imagens com a finalidade de impressão e, o sistema utilizado nesse curso, o <em>RGB</em>, onde cada pixel armazena informação de três canais de cor(vermelho, verde e azul).</p><h2 id="imagens-do-jwst"><span class="mr-2">Imagens do JWST</span><a href="#imagens-do-jwst" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>O JWST capta imagens em escala de cinza. Sim, isso mesmo, o JWST, e telescópios em geral, captam imagens em preto e branco. Mas então como a NASA posta aquelas belas imagens todo dia no Instagram? Bom, é isso que viemos responder aqui.</p><p>O JWST capta sinais em infra-vermelho. Esses sinais passam por filtros que separam frequências específicas do espectro eletromagnético e então são “traduzidos” para frequências do intervalo visível do espectro. Podemos então pegar os sinais correspondentes à partes de frequência mais baixa e associar ao vermelho e então fazer o mesmo por todo o espectro. Uma vez tendo os sinais correspondentes ao vermelho, verde e azul, podemos criar imagens coloridas!</p><p>Simples? Pois é, tem alguns detalhes no meio dessa história, mas cuidaremos disso depois.</p><h2 id="imagens-em-python"><span class="mr-2">Imagens em Python</span><a href="#imagens-em-python" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Agora que já sabemos a teoria(mais ou menos), podemos começar a botar a mão na massa! Para isso utilizaremos a internacionalmente aclamada linguagem de programação Python. Para fins didáticos, esse curso utilizará apenas as bibliotecas numpy, matplotlib e os, mas existem bibliotecas mais sofisticadas para processamento de imagem, como a <a href="https://scikit-image.org/">scikit-image</a>.</p><p>Vamos importar essas bibliotecas e abrir as imagens correspondentes à diferentes filtros do JWST:</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.gridspec</span> <span class="k">as</span> <span class="n">gridspec</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="n">imgs</span> <span class="o">=</span> <span class="p">[]</span><span class="c1">#lista para armazenar as imagens
</span><span class="k">for</span> <span class="n">img</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">listdir</span><span class="p">(</span><span class="s">'./ngc3324/'</span><span class="p">)):</span><span class="c1">#para cada imagem no diretorio /ngc3324
</span>    <span class="k">if</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">img</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">'.png'</span><span class="p">:</span><span class="c1">#se for um png
</span>        <span class="k">print</span><span class="p">(</span><span class="n">img</span><span class="p">)</span><span class="c1">#printa o nome da imagem
</span>        <span class="n">imgs</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">plt</span><span class="p">.</span><span class="n">imread</span><span class="p">(</span><span class="s">'./ngc3324/'</span><span class="o">+</span><span class="n">img</span><span class="p">))</span><span class="c1">#guarda na lista de imagens
</span></pre></table></code></div></div><p>A biblioteca matplotlib oferece a função <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.imread.html"><code class="language-plaintext highlighter-rouge">imread</code></a> , que permite abrir imagens em vários formatos.</p><p>Para facilitar a visualização vamos criar uma função, mas não se preocupe com ela, é só um monte de “matplotlib-fu”:</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">show_img</span><span class="p">(</span><span class="n">img_list</span><span class="p">,</span> <span class="n">nrow</span><span class="p">,</span> <span class="n">ncol</span><span class="p">):</span>

    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">ncol</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">nrow</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span> 

    <span class="n">gs</span> <span class="o">=</span> <span class="n">gridspec</span><span class="p">.</span><span class="n">GridSpec</span><span class="p">(</span><span class="n">nrow</span><span class="p">,</span> <span class="n">ncol</span><span class="p">,</span>
             <span class="n">wspace</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">hspace</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> 
             <span class="n">top</span><span class="o">=</span><span class="mf">1.</span><span class="o">-</span><span class="mf">0.5</span><span class="o">/</span><span class="p">(</span><span class="n">nrow</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.5</span><span class="o">/</span><span class="p">(</span><span class="n">nrow</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> 
             <span class="n">left</span><span class="o">=</span><span class="mf">0.5</span><span class="o">/</span><span class="p">(</span><span class="n">ncol</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="n">right</span><span class="o">=</span><span class="mi">1</span><span class="o">-</span><span class="mf">0.5</span><span class="o">/</span><span class="p">(</span><span class="n">ncol</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span> 
    <span class="n">idx</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">ncol</span><span class="o">*</span><span class="n">nrow</span><span class="p">):</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="n">idx</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span>
        <span class="n">ax</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img_list</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s">"gray"</span><span class="p">)</span>
        <span class="n">ax</span><span class="p">.</span><span class="n">set_xticks</span><span class="p">([])</span>
        <span class="n">ax</span><span class="p">.</span><span class="n">set_yticks</span><span class="p">([])</span>
</pre></table></code></div></div><p>Você pode então ver as imagens com:</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">show_img</span><span class="p">(</span><span class="n">imgs</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="c1">#2 e 3 são o número de linhas e colunas
</span></pre></table></code></div></div><p><a href="/images/20230101/1.png" class="popup img-link "><img data-src="/images/20230101/1.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>Muito emocionante, não? Não pare de ler, eu prometo que vai funcionar!</p><p>Vamos investigar o que está acontecendo. Como será que estão distribuidas as intensidades dessas imagens?</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>

<span class="n">idx</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
    <span class="n">axs</span><span class="p">[</span><span class="n">idx</span><span class="p">[</span><span class="n">i</span><span class="p">]].</span><span class="n">hist</span><span class="p">(</span><span class="n">imgs</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">flatten</span><span class="p">())</span>
<span class="n">plt</span><span class="p">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></table></code></div></div><p><a href="/images/20230101/2.png" class="popup img-link "><img data-src="/images/20230101/2.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>Os <a href="https://pt.wikipedia.org/wiki/Histograma">histogramas</a> das imagens apontam que a maioria dos pixels possui valor baixo. E agora?</p><h2 id="equalização-de-histograma"><span class="mr-2">Equalização de histograma</span><a href="#equalização-de-histograma" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>A primeira técnica de processamento de imagens que vamos utilizar é a <a href="https://en.wikipedia.org/wiki/Histogram_equalization">equalização de histograma</a>, uma técnica que permite aumentar o contraste de imagens.</p><p>Essencialmente, queremos transformar uma imagem em <em>k-bits</em> de forma que o histograma fique “reto”, isto é, a probabilidade de obtermos um pixel com intensidade $n_{i}\in[0,I_{max}]$ é mais ou menos a mesma para qualquer $i\in{1,2,…,k}$.</p><p>Eu não vou me aprofundar em como fazer isso de fato, mas pretendo escrever sobre no futuro, aguardem!</p><p>Em python, podemos escrever uma função razoavelmente simples que toma conta disso:</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">hist_eq</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">nbins</span><span class="o">=</span><span class="mi">2</span><span class="o">**</span><span class="mi">16</span><span class="p">):</span>

    <span class="n">img_hist</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">img</span><span class="p">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="n">nbins</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">cdf</span> <span class="o">=</span> <span class="n">img_hist</span><span class="p">.</span><span class="n">cumsum</span><span class="p">()</span>
    <span class="n">cdf</span> <span class="o">=</span> <span class="p">(</span><span class="n">nbins</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">cdf</span> <span class="o">/</span> <span class="n">cdf</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="n">img_eq</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">interp</span><span class="p">(</span><span class="n">img</span><span class="p">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="n">bins</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">cdf</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">img_eq</span><span class="p">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">img</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>
</pre></table></code></div></div><p>Equalizando os histogramas e verificando os resultados:</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="n">imgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">(</span><span class="n">hist_eq</span><span class="p">(</span><span class="n">i</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">imgs</span><span class="p">]</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>

<span class="n">idx</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
    <span class="n">axs</span><span class="p">[</span><span class="n">idx</span><span class="p">[</span><span class="n">i</span><span class="p">]].</span><span class="n">hist</span><span class="p">(</span><span class="n">imgs</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">flatten</span><span class="p">())</span>
<span class="n">plt</span><span class="p">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></table></code></div></div><p><a href="/images/20230101/3.png" class="popup img-link "><img data-src="/images/20230101/3.png" alt="" class="lazyload" data-proofer-ignore></a></p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">show_img</span><span class="p">(</span><span class="n">imgs</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></table></code></div></div><p><a href="/images/20230101/4.png" class="popup img-link "><img data-src="/images/20230101/4.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>Bem melhor, não? Agora basta colocar uma imagem em cada canal e boom! Mas, espera aí…</p><h2 id="combinando-imagens"><span class="mr-2">Combinando imagens</span><a href="#combinando-imagens" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Bem, temos três canais e seis imagens, algo não cheira bem. E agora? Escolher três e jogar fora metade dessas belas imagens? Desistir e ir chorar no banho? Não! Basta combinar duas imagens em uma! Podemos definir uma nova imagem a partir de duas: sejam duas imagens $M_{1}$ e $M_{2}$ e seus respectivos pixels $p_{ij}^{1}$ e $p_{ij}^{2}$. Definimos $M_{3}$ como a imagems com entradas $p_{ij}^{3} = f(p_{ij}^{1},p_{ij}^{2})$, onde $f:[0,I_{max}]\times[0,I_{max}]\to[0,I_{max}]$ é uma função dos pixels de $M_{1}$ e $M_{2}$. Confuso? Bom, talvez um exemplo facilite: podemos tirar a média pixel por pixel, ou pegar o maior valor. Com certeza existem escolhas melhores de $f$, mas para facilitar as nossas vidas, vamos apenas tirar a média das imagens:</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="n">red</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">dstack</span><span class="p">([</span><span class="n">imgs</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="n">imgs</span><span class="p">[</span><span class="mi">5</span><span class="p">]])</span>
<span class="n">red</span> <span class="o">=</span> <span class="n">red</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">red</span> <span class="o">=</span> <span class="p">(</span><span class="n">red</span> <span class="o">-</span> <span class="n">red</span><span class="p">.</span><span class="nb">min</span><span class="p">())</span><span class="o">/</span><span class="p">(</span><span class="n">red</span><span class="p">.</span><span class="nb">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">red</span><span class="p">.</span><span class="nb">min</span><span class="p">())</span>

<span class="n">green</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">dstack</span><span class="p">([</span><span class="n">imgs</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">imgs</span><span class="p">[</span><span class="mi">3</span><span class="p">]])</span>
<span class="n">green</span> <span class="o">=</span> <span class="n">green</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">green</span> <span class="o">=</span> <span class="p">(</span><span class="n">green</span> <span class="o">-</span> <span class="n">green</span><span class="p">.</span><span class="nb">min</span><span class="p">())</span><span class="o">/</span><span class="p">(</span><span class="n">green</span><span class="p">.</span><span class="nb">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">green</span><span class="p">.</span><span class="nb">min</span><span class="p">())</span>

<span class="n">blue</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">dstack</span><span class="p">([</span><span class="n">imgs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">imgs</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">blue</span> <span class="o">=</span> <span class="n">blue</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">blue</span> <span class="o">=</span> <span class="p">(</span><span class="n">blue</span> <span class="o">-</span> <span class="n">blue</span><span class="p">.</span><span class="nb">min</span><span class="p">())</span><span class="o">/</span><span class="p">(</span><span class="n">blue</span><span class="p">.</span><span class="nb">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">blue</span><span class="p">.</span><span class="nb">min</span><span class="p">())</span>

<span class="n">channels</span> <span class="o">=</span> <span class="p">[</span><span class="n">red</span><span class="p">,</span> <span class="n">green</span><span class="p">,</span> <span class="n">blue</span><span class="p">]</span>

<span class="n">show_img</span><span class="p">(</span><span class="n">channels</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></table></code></div></div><p><a href="/images/20230101/5.png" class="popup img-link "><img data-src="/images/20230101/5.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>Agora, podemos finalmente jogar uma imagem em cada canal e partir pro abraço, certo? Não.</p><h2 id="algoritmo-de-lupton"><span class="mr-2">Algoritmo de Lupton</span><a href="#algoritmo-de-lupton" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Apesar de representarem as frequências que corresponderiam às cores verde, vermelho e azul, é recomendável ainda preparar as imagens para que elas de fato componham os canais de cor. Um rapaz chamado <a href="https://arxiv.org/pdf/astro-ph/0312483.pdf">Lupton</a> propôs um algoritmo que faz essa preparação em imagens astronômicas. Essencialmente, é aplicada uma transformação não-linear(envovendo um arcosseno hiperbólico) corrigida por um fator que nós podemos controlar(que é a verdadeira razão de eu estar colocando isso aqui, já que se você ignorar essa parte, já é possível conseguir um resultado legal, mas estamos aqui para aprender, não é?). Esse método permite distinguir melhor objetos astronômicos ao garantir que objetos com cores específicas possuam uma cor distinta na imagem final. Recomendo a leitura do artigo original, é razoavelmente simples e é muito bem escrito.</p><p>Enfim, podemos aplicar esse método assim:</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">asinh</span><span class="p">(</span><span class="n">img_src</span><span class="p">,</span> <span class="n">non_linear</span><span class="o">=</span><span class="mf">2.0</span><span class="p">):</span>

    <span class="n">img</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">(</span><span class="n">img_src</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    
    <span class="n">scale_min</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="nb">min</span><span class="p">()</span>
    <span class="n">scale_max</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="nb">max</span><span class="p">()</span>
    
    <span class="n">factor</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">arcsinh</span><span class="p">((</span><span class="n">scale_max</span> <span class="o">-</span> <span class="n">scale_min</span><span class="p">))</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">arcsinh</span><span class="p">((</span><span class="n">img</span> <span class="o">-</span> <span class="n">scale_min</span><span class="p">)</span><span class="o">/</span><span class="n">non_linear</span><span class="p">)</span><span class="o">/</span><span class="n">factor</span>

    <span class="k">return</span> <span class="n">img</span>
</pre></table></code></div></div><h2 id="colorindo-a-imagem"><span class="mr-2">Colorindo a imagem!</span><a href="#colorindo-a-imagem" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Agora, podemos juntar tudo e criar nossa bela imagem da NGC3324:</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="n">I</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">channels</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">new_channels</span> <span class="o">=</span> <span class="p">[</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">asinh</span><span class="p">(</span><span class="n">I</span><span class="p">,</span> <span class="n">non_linear</span> <span class="o">=</span> <span class="p">.</span><span class="mi">99</span><span class="p">)</span><span class="o">/</span><span class="n">I</span><span class="p">,</span>
                <span class="n">channels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">asinh</span><span class="p">(</span><span class="n">I</span><span class="p">,</span> <span class="n">non_linear</span> <span class="o">=</span> <span class="p">.</span><span class="mi">99</span><span class="p">)</span><span class="o">/</span><span class="n">I</span><span class="p">,</span> 
                <span class="n">channels</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="n">asinh</span><span class="p">(</span><span class="n">I</span><span class="p">,</span> <span class="n">non_linear</span> <span class="o">=</span> <span class="p">.</span><span class="mi">99</span><span class="p">)</span><span class="o">/</span><span class="n">I</span><span class="p">]</span>
<span class="n">new_channels</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">clip</span><span class="p">(</span><span class="n">new_channels</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">color_img</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">dstack</span><span class="p">(</span><span class="n">new_channels</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplot</span><span class="p">()</span>
<span class="n">ax</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">color_img</span><span class="p">,</span> <span class="s">"gray"</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="n">set_xticks</span><span class="p">([])</span>
<span class="n">ax</span><span class="p">.</span><span class="n">set_yticks</span><span class="p">([])</span>
</pre></table></code></div></div><p><a href="/images/20230101/6.png" class="popup img-link "><img data-src="/images/20230101/6.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>Pronto, temos cores! Você pode fazer algumas coisas agora:</p><ul><li>alterar o argumento <code class="language-plaintext highlighter-rouge">non_linear</code> e obter resultados diferentes;<li>testar o código em outras imagens de telescópio;<li>dormir</ul><p>Enfim, já falei demais. Até o próximo post(pode e vai demorar)!</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/python/'>Python</a>, <a href='/categories/data/'>Data</a>, <a href='/categories/astronomy/'>Astronomy</a>, <a href='/categories/image-processing/'>Image Processing</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/python/" class="post-tag no-text-decoration" >python</a> <a href="/tags/data/" class="post-tag no-text-decoration" >data</a> <a href="/tags/image/" class="post-tag no-text-decoration" >image</a> <a href="/tags/astronomy/" class="post-tag no-text-decoration" >astronomy</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Colorindo Imagens Astronômicas em Python - Hiroshi Ito&url=https%3A%2F%2Fhirobuda.github.io%2Fposts%2FColorindo-imagens-astron%25C3%25B4micas%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Colorindo Imagens Astronômicas em Python - Hiroshi Ito&u=https%3A%2F%2Fhirobuda.github.io%2Fposts%2FColorindo-imagens-astron%25C3%25B4micas%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fhirobuda.github.io%2Fposts%2FColorindo-imagens-astron%25C3%25B4micas%2F&text=Colorindo Imagens Astronômicas em Python - Hiroshi Ito" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Colorindo-imagens-astron%C3%B4micas/">Colorindo Imagens Astronômicas em Python</a><li><a href="/posts/Minicurso-SIFSC12/">Minicurso Sifsc12</a><li><a href="/posts/Tutorial-Pandas/">Tutorial de Pandas</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/data/">data</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/astronomy/">astronomy</a> <a class="post-tag" href="/tags/image/">image</a> <a class="post-tag" href="/tags/pandas/">pandas</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Tutorial-Pandas/"><div class="card-body"> <em class="small" data-ts="1656547200" data-df="ll" > Jun 30, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Tutorial de Pandas</h3><div class="text-muted small"><p> Tutorial de Pandas Pandas: Pandas é uma biblioteca de Python para análise e manipulação de dados. Você pode instalar com pip: python -m pip install -U pandas Refazendo a última prática Panda...</p></div></div></a></div><div class="card"> <a href="/posts/Minicurso-SIFSC12/"><div class="card-body"> <em class="small" data-ts="1665446400" data-df="ll" > Oct 11, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Minicurso Sifsc12</h3><div class="text-muted small"><p> Colorindo Imagens Astronômicas - SIFSC 12 Baixem os dados aqui. Notebook, post e NGC3132 aqui(algum dia). copiem essas funções: def show_img(img_list, nrow, ncol): fig = plt.figure(figsize...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Minicurso-SIFSC12/" class="btn btn-outline-primary" prompt="Older"><p>Minicurso Sifsc12</p></a><div class="btn btn-outline-primary disabled" prompt="Newer"><p>-</p></div></div></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/data/">data</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/astronomy/">astronomy</a> <a class="post-tag" href="/tags/image/">image</a> <a class="post-tag" href="/tags/pandas/">pandas</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/HiroshiEly">Pedro Hiroshi Ely Ito</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0">Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> (function () { function updateMermaid(event) { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { const mode = event.data.message; if (typeof mermaid === "undefined") { return; } let expectedTheme = (mode === ModeToggle.DARK_MODE ? "dark" : "default"); let config = {theme: expectedTheme}; /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function () { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } let initTheme = "default"; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Create mermaid tag */ $("pre").has("code.language-mermaid").each(function () { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<pre class=\"mermaid\">${svgCode}</pre>`); }); mermaid.initialize(mermaidConf); window.addEventListener("message", updateMermaid); })(); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
